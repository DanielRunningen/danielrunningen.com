__NUXT_JSONP__("/projects/cloth-water-with-processing", (function(a,b,c,d,e,f,g,h,i,j,k,l,m,n,o,p,q,r,s,t,u,v,w,x,y,z,A,B,C,D,E,F,G,H,I,J,K,L,M,N,O,P,Q,R,S,T,U,V,W,X,Y,Z){return {data:[{project:{slug:"cloth-water-with-processing",description:"This project was a combination of two smaller simulations as the second major assignment in CSCI 5611 - Animation and Planning in Games. This time I (Dan Runningen) worked with Kurtis Kill to create simulations of cloth and water in Processing sketches.",title:"Cloth and Water with Processing",descriptionInArticle:false,image:"ClothWater.png",imageAlt:"Images of both the Cloth and Water simulations.",readMore:p,tags:[{text:"Java",show:p},{text:"Processing",show:p},{text:"Simulated Physics",show:p}],toc:[{id:t,depth:u,text:v},{id:w,depth:q,text:x},{id:y,depth:4,text:z},{id:A,depth:q,text:B},{id:C,depth:q,text:D},{id:E,depth:q,text:F},{id:G,depth:u,text:H}],body:{type:I,children:[{type:b,tag:e,props:{},children:[{type:a,value:J},{type:b,tag:d,props:{href:K,rel:[f,g,h],target:i},children:[{type:a,value:L}]},{type:a,value:M}]},{type:a,value:c},{type:a,value:c},{type:b,tag:N,props:{id:t},children:[{type:b,tag:d,props:{href:"#sketches",ariaHidden:k,tabIndex:l},children:[{type:b,tag:m,props:{className:[n,o]},children:[]}]},{type:a,value:v}]},{type:a,value:c},{type:b,tag:r,props:{id:w},children:[{type:b,tag:d,props:{href:"#cloth",ariaHidden:k,tabIndex:l},children:[{type:b,tag:m,props:{className:[n,o]},children:[]}]},{type:a,value:x}]},{type:a,value:c},{type:b,tag:e,props:{},children:[{type:a,value:"For this sketch, we were tasked with creating either a multi-rope cloth simulation. Ideally the cloth falls with somewhat realistic physics and can interact with itself and other obstacles."}]},{type:a,value:c},{type:b,tag:O,props:{className:[P,Q,R],width:S,height:T,src:"https:\u002F\u002Fwww.youtube.com\u002Fembed\u002FOVUodQeTSgs",title:U,frameBorder:V,allow:W,allowFullScreen:p},children:[]},{type:a,value:c},{type:b,tag:"h4",props:{id:y},children:[{type:b,tag:d,props:{href:"#features",ariaHidden:k,tabIndex:l},children:[{type:b,tag:m,props:{className:[n,o]},children:[]}]},{type:a,value:z}]},{type:a,value:c},{type:b,tag:e,props:{},children:[{type:a,value:"Here are the features that ended up in this sketch:"}]},{type:a,value:c},{type:b,tag:X,props:{},children:[{type:a,value:c},{type:b,tag:j,props:{},children:[{type:a,value:c},{type:b,tag:e,props:{},children:[{type:a,value:"[Not Observed] Multiple Ropes - We started by ensuring that multiple ropes worked from a previous small assignment. The final product no longer looks like this due to the change in rendering style and other incremental changes."}]},{type:a,value:c}]},{type:a,value:c},{type:b,tag:j,props:{},children:[{type:a,value:c},{type:b,tag:e,props:{},children:[{type:b,tag:d,props:{href:"https:\u002F\u002Fyoutu.be\u002FOVUodQeTSgs?si=oEYH4w70CQXzC4XR",rel:[f,g,h],target:i},children:[{type:a,value:"[Whole Video]"}]},{type:a,value:" Cloth Simulation - A major portion of points for this assignment could be received by converting the multiple ropes into one combined cloth using spring forces. We actually ended up converting all of our links, even the ones constructing the original ropes, into springs. This resulted in a cloth that looks like it was made of a fairly heavy, stretchy material."}]},{type:a,value:c}]},{type:a,value:c},{type:b,tag:j,props:{},children:[{type:a,value:c},{type:b,tag:e,props:{},children:[{type:b,tag:d,props:{href:"https:\u002F\u002Fyoutu.be\u002FOVUodQeTSgs?si=oEYH4w70CQXzC4XRt=25",rel:[f,g,h],target:i},children:[{type:a,value:"[0:25]"}]},{type:a,value:" 3D Simulation - The requirements for this were that the sketch be 3D rendered "},{type:b,tag:"em",props:{},children:[{type:a,value:"and"}]},{type:a,value:" that the user could wander about the simulation to view different angles. The first part wasn't too bad to convert our working 2D render into a 3D one. Thankfully, we had a camera library created by Liam Tyler specifically for this class so that we didn't have to develop our own movement controls. We had a minor problem of forgetting to render the cloth along the z-axis initially, which caused some strange clipping errors, but Liam's cameral library was also useful for debugging this."}]},{type:a,value:c}]},{type:a,value:c},{type:b,tag:j,props:{},children:[{type:a,value:c},{type:b,tag:e,props:{},children:[{type:b,tag:d,props:{href:"https:\u002F\u002Fyoutu.be\u002FOVUodQeTSgs?si=GnAVRok8_HUokgJd&t=10",rel:[f,g,h],target:i},children:[{type:a,value:"[0:10]"}]},{type:a,value:" User Interaction - Firstly, the user is able to move about the scene, though again, this was mostly an implementation of a library created by Liam Tyler. So, secondly, we have a ball obstacle that slides about the scene to repeatedly interact with the cloth. Without any user input, the ball simply bounces back and forth along a pre-determined track following the z-axis. Clicking the mouse over the scene, however, causes the ball to slide along the track relative to the mouse's position. When this occurs, the user is entirely in control of the ball's velocity, which leads to the next item..."}]},{type:a,value:c}]},{type:a,value:c},{type:b,tag:j,props:{},children:[{type:a,value:c},{type:b,tag:e,props:{},children:[{type:b,tag:d,props:{href:"https:\u002F\u002Fyoutu.be\u002FOVUodQeTSgs?si=oEYH4w70CQXzC4XR&t=2",rel:[f,g,h],target:i},children:[{type:a,value:"[0:02]"}]},{type:a,value:" Ripping \u002F Tearing - As mentioned previously, all of the cloths links are held together by springs, so each one has the ability to stretch and contract based on the forces near it. We've added a maximum length that the springs are allowed to reach. If that length is exceeded, then one of the nodes is deleted from the cloth. Over the course of the animation normally, the force of the ball obstacle is not large enough to cause any ripping. Only through grabbing the ball with the mouse and moving swiftly at the cloth will provide enough force to puncture the cloth."}]},{type:a,value:c}]},{type:a,value:c},{type:b,tag:j,props:{},children:[{type:a,value:c},{type:b,tag:e,props:{},children:[{type:b,tag:d,props:{href:"https:\u002F\u002Fyoutu.be\u002FOVUodQeTSgs?si=GnAVRok8_HUokgJd&t=36",rel:[f,g,h],target:i},children:[{type:a,value:"[0:36]"}]},{type:a,value:" Self-Collisions - Our cloth uses some simple node collisions to prevent the cloth from wrapping. The collision radius is relative to the link length, so there should not be room for nodes to pass through the quads."}]},{type:a,value:c}]},{type:a,value:c}]},{type:a,value:c},{type:b,tag:r,props:{id:A},children:[{type:b,tag:d,props:{href:"#sph--lagrangian-water",ariaHidden:k,tabIndex:l},children:[{type:b,tag:m,props:{className:[n,o]},children:[]}]},{type:a,value:B}]},{type:a,value:c},{type:b,tag:e,props:{},children:[{type:a,value:"The second sketch we chose for our submission was an SPH fluid simulation. We can't take too much credit for this, since it was mostly a straight conversion from "},{type:b,tag:d,props:{href:"http:\u002F\u002Fmotioncore-umh.cs.umn.edu\u002F5611\u002FsphN_short.html",rel:[f,g,h],target:i},children:[{type:a,value:"our professor's online implementation"}]},{type:a,value:" that was given as an example to work from."}]},{type:a,value:c},{type:b,tag:O,props:{className:[P,Q,R],width:S,height:T,src:"https:\u002F\u002Fwww.youtube.com\u002Fembed\u002FhBummJwxUqE?si=ODc78ZAU4hzSr3Eo",title:U,frameBorder:V,allow:W,allowFullScreen:p},children:[]},{type:a,value:c},{type:b,tag:e,props:{},children:[{type:a,value:"Our iteration of this simulation starts with particles randomly generated near the bottom of the frame. Because of the random placement, there is a potential for pressure between particles to build and cause an initial \"explosion\" of activity, as if a water balloon burst. The particles do tend to settle fairly quickly to rest at the bottom of the frame."}]},{type:a,value:c},{type:b,tag:e,props:{},children:[{type:a,value:"After the particles have settled, a beach ball should fall into frame that the user can control a bit to interact with the water particles. Clicking in the frame will cause a gravitational force towards the mouse until the mouse button is released, allowing the ball to \"follow\" the mouse about the frame. We also fake some buoyancy calculations in an attempt to keep the ball afloat even if dragged under the water briefly."}]},{type:a,value:c},{type:b,tag:r,props:{id:C},children:[{type:b,tag:d,props:{href:"#code-pack",ariaHidden:k,tabIndex:l},children:[{type:b,tag:m,props:{className:[n,o]},children:[]}]},{type:a,value:D}]},{type:a,value:c},{type:b,tag:e,props:{},children:[{type:a,value:"For grading purposes, the code is available through "},{type:b,tag:d,props:{href:"https:\u002F\u002Fgithub.umn.edu\u002FKILL0120\u002F5611Project2",rel:[f,g,h],target:i},children:[{type:a,value:"Kurtis's UMN GitHub repository"}]},{type:a,value:"."}]},{type:a,value:c},{type:b,tag:r,props:{id:E},children:[{type:b,tag:d,props:{href:"#resources",ariaHidden:k,tabIndex:l},children:[{type:b,tag:m,props:{className:[n,o]},children:[]}]},{type:a,value:F}]},{type:a,value:c},{type:b,tag:X,props:{},children:[{type:a,value:c},{type:b,tag:j,props:{},children:[{type:a,value:"A clip-art image of a beach ball was taken from "},{type:b,tag:d,props:{href:"https:\u002F\u002Fwww.pinterest.com\u002Fpin\u002F399272323214264114\u002F",rel:[f,g,h],target:i},children:[{type:a,value:"this Pinterest link"}]},{type:a,value:" for the water simulation."}]},{type:a,value:c},{type:b,tag:j,props:{},children:[{type:a,value:"Along with normal Java classes and functions, we utilized some "},{type:b,tag:s,props:{},children:[{type:a,value:"Math"}]},{type:a,value:" library calls."}]},{type:a,value:c},{type:b,tag:j,props:{},children:[{type:a,value:Y},{type:b,tag:s,props:{},children:[{type:a,value:"Vec2.pde"}]},{type:a,value:" was primarily from Professor Guy's examples."}]},{type:a,value:c},{type:b,tag:j,props:{},children:[{type:a,value:Y},{type:b,tag:s,props:{},children:[{type:a,value:"Camera.pde"}]},{type:a,value:" class for the cloth simulation was written by Liam Tyler for the purpose of this class."}]},{type:a,value:c}]},{type:a,value:c},{type:b,tag:N,props:{id:G},children:[{type:b,tag:d,props:{href:"#closing-remarks",ariaHidden:k,tabIndex:l},children:[{type:b,tag:m,props:{className:[n,o]},children:[]}]},{type:a,value:H}]},{type:a,value:c},{type:b,tag:e,props:{},children:[{type:a,value:"We were initially hesitant to include 3D as part of the simulation since we had yet to try the more complex rendering in Processing yet. It involved translation matrix management and additional lighting configuration that we had not dealt with in this class. Additionally, the requirements for 3D meant we had to include some way for a user to navigate the scene. Thankfully the navigation was taken care of for us in a separate library. We did have to hot-wire some of the variables to ensure the simulation starts with the camera facing the correct direction, but no other implementation details were required."}]},{type:a,value:c},{type:b,tag:e,props:{},children:[{type:a,value:"We also spent a large amount of time adjusting the physics constants in both simulations such that the calculations looked relatively smooth and realistic. We would have liked to spend more time understanding the roles of each constant and map them to real-life materials. In particular, it was difficult in the water simulation to represent pressure on an object of different densities, causing some issues with getting the beach ball to float initially. We would have liked to investigate how to properly implement buoyancy forces based on the surrounding water pressure."}]}]},excerpt:{type:I,children:[{type:b,tag:e,props:{},children:[{type:a,value:J},{type:b,tag:d,props:{href:K,rel:[f,g,h],target:i},children:[{type:a,value:L}]},{type:a,value:M}]}]},dir:"\u002Fprojects",path:"\u002Fprojects\u002Fcloth-water-with-processing",extension:".md",createdAt:Z,updatedAt:Z}}],fetch:{},mutations:void 0}}("text","element","\n","a","p","nofollow","noopener","noreferrer","_blank","li","true",-1,"span","icon","icon-link",true,3,"h3","code","sketches",2,"Sketches","cloth","Cloth","features","Features","sph--lagrangian-water","SPH \u002F Lagrangian Water","code-pack","Code Pack","resources","Resources","closing-remarks","Closing Remarks","root","This project was a combination of two smaller simulations as the second major assignment in CSCI 5611 - Animation and Planning in Games. (You can check out the first one ","https:\u002F\u002Fwww.danielrunningen.com\u002Fprojects\u002Fpinball-with-processing\u002F","here",".) This time I (Dan Runningen) worked with Kurtis Kill to create simulations of cloth and water in Processing sketches.","h2","iframe","d-block","mx-auto","mb-4",560,315,"YouTube video player","0","accelerometer; clipboard-write; encrypted-media; gyroscope; picture-in-picture; web-share","ol","The ","2023-11-16T03:54:22.119Z")));